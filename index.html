<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>한국 시간 실시간 타이머</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

    body {
      margin: 0;
      height: 100vh;
      background: #000000;
      color: #00fff2;
      font-family: "Orbitron", sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      user-select: none;
      overflow: hidden;
    }
    .time {
      font-size: 4.2rem;
      letter-spacing: 0.1em;
      margin-bottom: 25px;
      text-shadow: 0 0 25px rgba(0,255,242,0.55);
    }
    .countdown {
      font-size: 2rem;
      color: #92ffff;
      text-shadow: 0 0 18px rgba(0,255,242,0.4);
    }
  </style>
</head>
<body>

  <div class="time" id="currentTime">--:--:--</div>
  <div class="countdown" id="countdown"></div>

  <script>
    /* URL 파라미터로 target 시간 읽기 예: ?target=2026-01-01T00:00:00 */
    const params = new URLSearchParams(window.location.search);
    const targetParam = params.get("target");
    let targetDate = targetParam ? new Date(targetParam + "+09:00") : null;

    /* 한국 공식 시간(KST, UTC+9) 계산 */
    function getKSTDate() {
      const now = new Date();
      const utc = now.getTime() + now.getTimezoneOffset() * 60000;
      return new Date(utc + 9 * 3600000);
    }

    function updateClock() {
      const nowKST = getKSTDate();

      // 시계 표시
      const timeElem = document.getElementById("currentTime");
      timeElem.textContent = nowKST.toLocaleString("ko-KR", {
        year: "numeric",
        month: "2-digit",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        hour12: false
      });

      // 카운트다운 처리
      const cdElem = document.getElementById("countdown");

      if (!targetDate) {
        cdElem.textContent = "카운트다운 목표시간 미설정 (?target=YYYY-MM-DDTHH:MM:SS)";
        return;
      }

      const diff = targetDate - nowKST;

      if (diff <= 0) {
        cdElem.textContent = "목표 시간 도달!";
        return;
      }

      const totalSeconds = Math.floor(diff / 1000);
      const sec = totalSeconds % 60;
      const min = Math.floor(totalSeconds / 60) % 60;
      const hr = Math.floor(totalSeconds / 3600) % 24;
      const day = Math.floor(totalSeconds / 86400);

      cdElem.textContent =
        `남은 시간: ${day}일 ` +
        `${String(hr).padStart(2, "0")}:` +
        `${String(min).padStart(2, "0")}:` +
        `${String(sec).padStart(2, "0")}`;
    }

    setInterval(updateClock, 1000);
    updateClock();
  </script>

</body>
</html>
